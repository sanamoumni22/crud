let mongoose = require('mongoose');
mongoose.Promise = require('bluebird');

let schema = new mongoose.Schema({
  title: { type: String, trim: true },
  deadline: { type: Date, default: null },
  content: { type: String, trim: true },
  jsonfield: { type: String, trim: true },
  starred: { type: Boolean },
  done: { type: Boolean, default: null },
  user_id: { type: String }
},
{
  timestamps: {
    createdAt: 'created',
    updatedAt: 'updated'
  }
});

// Index timestamps
schema.index({'created': 1});
schema.index({'updated': 1});

// -----------------------------------
// Model and export
// -----------------------------------
module.exports = mongoose.model('todos', schema);
