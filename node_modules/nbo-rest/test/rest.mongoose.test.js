require('./mocks/mongodb-connect');
var mongoose = require('mongoose');
var config = require('./config/config-mongoose');
var expressMock = require('./mocks/router');
var oRequest = require('./mocks/request')();
var rest = require('../index');
var restTest = require('./test.rest');
var todos = require('./mocks/models/todos');

var oRest = new rest(expressMock, {}, config);
oRequest.user[config.entities.todos.primary_key_name] = new mongoose.mongo.ObjectId();

restTest(oRest, 'Mongoose', 'MongoDB', oRequest, todos, 'todos');